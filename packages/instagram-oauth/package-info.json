{
  "name": "@microfox/instagram-oauth",
  "title": "Microfox Instagram OAuth",
  "description": "TypeScript package simplifying Instagram OAuth 2.0, providing methods for authorization URL generation, token exchange, validation, and token refresh.",
  "path": "packages/instagram-oauth",
  "status": "oauthConnector",
  "authEndpoint": "/connect/instagram",
  "documentation": "https://www.npmjs.com/package/@microfox/instagram-oauth",
  "icon": "https://raw.githubusercontent.com/microfox-ai/microfox/refs/heads/main/logos/instagram-icon.svg",
  "dependencies": ["zod"],
  "devDependencies": [
    "@microfox/tsconfig",
    "@types/node",
    "tsup",
    "typescript"
  ],
  "constructors": [
    {
      "name": "InstagramOAuthSdk",
      "description": "Create a new Microfox Instagram Business OAuth client through which you can interact with the API",
      "auth": "oauth2",
      "authSdk": "@microfox/instagram-oauth",
      "authEndpoint": "/connect/instagram",
      "requiredKeys": [],
      "internalKeys": [
        {
          "key": "INSTAGRAM_CLIENT_ID",
          "displayName": "Instagram Client ID",
          "description": "Your Instagram Business app's Client ID.",
          "required": true
        },
        {
          "key": "INSTAGRAM_CLIENT_SECRET",
          "displayName": "Instagram Client Secret",
          "description": "Your Instagram Business app's Client Secret.",
          "required": true
        },
        {
          "key": "INSTAGRAM_REDIRECT_URI",
          "displayName": "Instagram Redirect URI",
          "description": "The redirect URI you configured for your Instagram Business app.",
          "required": true
        },
        {
          "key": "SCOPES",
          "displayName": "Instagram Scopes",
          "description": "The scopes for your Instagram Business app.",
          "required": true
        }
      ],
      "functionalities": [
        "getAuthUrl",
        "exchangeCodeForTokens",
        "getLongLivedToken",
        "refreshToken",
        "validateAccessToken"
      ]
    }
  ],
  "extraInfo": [
    "To obtain OAuth credentials for Instagram Business:",
    "1. Go to https://developers.facebook.com/ and create a new app or select an existing one.",
    "2. Navigate to 'Products' and add 'Instagram Basic Display' or 'Instagram Graph API'.",
    "3. Under 'Instagram Basic Display' > 'Basic Display', add your redirect URI.",
    "4. Go to 'App Settings' > 'Basic' to find your Client ID and Client Secret.",
    "5. Configure the necessary permissions and scopes for your Instagram Business account.",
    "",
    "Environment variables:",
    "- INSTAGRAM_CLIENT_ID: Your Instagram Business app's Client ID",
    "- INSTAGRAM_CLIENT_SECRET: Your Instagram Business app's Client Secret",
    "- INSTAGRAM_REDIRECT_URI: The redirect URI you configured for your Instagram Business app",
    "",
    "To use this package:",
    "1. Install the package: npm install @microfox/instagram-oauth",
    "2. Import and initialize the SDK:",
    "   import { createInstagramOAuth } from '@microfox/instagram-oauth';",
    "   const instagramOAuth = createInstagramOAuth({",
    "     clientId: process.env.INSTAGRAM_CLIENT_ID!,",
    "     clientSecret: process.env.INSTAGRAM_CLIENT_SECRET!,",
    "     redirectUri: process.env.INSTAGRAM_REDIRECT_URI!,",
    "     scopes: ['instagram_business_basic', 'instagram_business_content_publish'],",
    "   });",
    "3. Generate the authorization URL:",
    "   const authUrl = instagramOAuth.getAuthUrl();",
    "4. After the user authorizes, exchange the code for a token:",
    "   const tokenResponse = await instagramOAuth.exchangeCodeForTokens(code);",
    "   // This automatically includes both access token and refresh token (long-lived token)",
    "5. Refresh token when needed:",
    "   const refreshedToken = await instagramOAuth.refreshToken(tokenResponse.refreshToken);",
    "",
    "Important notes:",
    "- Instagram Business tokens have expiration times. The exchangeCodeForTokens method automatically converts short-lived tokens to long-lived tokens.",
    "- Store tokens securely and never expose them in client-side code.",
    "- Respect Instagram's rate limits and API guidelines.",
    "- The 'state' parameter in getAuthUrl is optional but recommended for CSRF protection.",
    "- Ensure your app has the necessary permissions for Instagram Business API access.",
    "- Long-lived tokens can be refreshed using the refreshToken method.",
    "- The Instagram Business API requires a business account and proper permissions."
  ],
  "keyInstructions": {
    "link": "https://developers.facebook.com/docs/instagram-basic-display-api/getting-started"
  },
  "platformType": "social"
}
